<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Polobx Test Suite</title>
  <script src="../../webcomponentsjs/webcomponents-lite.js"></script>
  <script src="../../web-component-tester/browser.js"></script>
  <link rel="import" href="./my-element.html">
</head>
<body>
  <my-element id="fixture"></my-element>
  <script>
    suite('<my-element>', () => {
      const testElement = document.getElementById('fixture');

      test('has single property', () => {
        assert(testElement.foo === myStore.store.foo);
      });

      test('has deep property', () => {
        assert(testElement.deepVar === myStore.store.xxx.xx.x);
      });

      test('has array property', () => {
        expect(testElement.colors)
        .that.is.an('array')
        .to.be.empty;
      });

      test('can dispatch actions to modify store', () => {
        testElement.dispatch({
          store: 'myStore',
          action: 'addColor',
          payload: 'blue'
        });
        
        expect(testElement.colors)
        .that.is.an('array')
        .not.to.be.empty;
        expect(testElement.colors).to.include.members(['blue']);
      });
    });
  </script>
</body>
</html>
